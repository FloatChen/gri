#!/usr/local/bin/perl
# Create HTML index from index of pre-installed info page.
# Bug: the @code{} items get lost, too bad.
open(IN, "info -f ./gri.info 'Concept Index' |  sort -f |") 
    ||  die "Cannot get index\n";
# Following is kludge, really
print "\@c HTML <!-- newfile ConceptIndex.html \"Gri: Concept Index\" \"Concept Index\" -->\n";
print "\@c HTML <h1>Concept index</h1>\n";
print "\@itemize \@bullet\n\n";
while(<IN>) {
    next if (/\*\s*Menu:\s*$/);
    if (/\* .*\./) {
        s/\* //;
        s/\.$//;
        s/:\s*/\n \@xref{/;
        s/$/}/;
        print "\@item\n $_";
    }
}
print "\n\@end itemize\n";
#print "\n\@c HTML Dan Kelley\n";
